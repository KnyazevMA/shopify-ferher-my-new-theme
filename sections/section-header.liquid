<header
  class="
    header
    tw:w-full tw:bg-white tw:text-black shadow-sm
  "
>
  <div class="page-width">
    <div
      class="
        header__wrapper page-width
        tw:flex tw:justify-between
        tw:items-center tw:min-h-18 tw:lg:min-h-16
        tw:mx-auto tw:gap-4 tw:lg:gap-3
      "
      role="navigation"
      aria-label="{{ 'a11y.main_nav' | t }}"
    >
      <button
        class="
          header__burger
          tw:hidden tw:max-md:flex tw:flex-col tw:justify-center tw:items-center
          tw:text-black tw:border-none tw:bg-transparent tw:cursor-pointer tw:size-6
        "
        type="button"
        aria-label="{{ 'a11y.open_menu' | t | default: 'Open menu' }}"
        aria-controls="mobile-menu"
        aria-expanded="false"
      >
        <span
          class="
            header__burger-lines
            tw:relative tw:w-5 tw:h-0.5 tw:bg-current
            transition-colors duration-300 ease-in delay-300
          "
          aria-hidden="true"
        ></span>
      </button>
      <a
        class="
          header__logo
          tw:justify-self-start tw:inline-flex tw:items-center tw:gap-2 tw:max-md:hidden
          tw:text-inherit no-underline
          transition-opacity duration-200 ease-in-out
          tw:hover:opacity-80
        "
        href="{{ routes.root_url }}"
        aria-label="{{ 'a11y.home_link' | t }}"
      >
        {% if section.settings.logo %}
          {{
            section.settings.logo
            | image_url: width: 540
            | image_tag:
              widths: '180, 360, 540',
              class: 'header__logo-image tw:block tw:h-7 tw:w-auto tw:lg:h-6',
              alt: section.settings.logo_alt,
              loading: 'eager',
              fetchpriority: 'high',
              media: '(min-width: 768px)'
          }}
        {% else %}
          <span class="header__logo-text tw:font-bold tw:text-xl tw:leading-none">{{ shop.name }}</span>
        {% endif %}
      </a>

      {%- render 'main-nav', main_menu: section.settings.main_menu -%}

      <div class="header__right-menu tw:justify-self-end tw:inline-flex tw:items-center tw:gap-3">
        <a
          class="
            header__cart
            tw:text-black tw:size-10 tw:flex tw:content-center tw:items-center
            tw:hover:text-blue-600 tw:hover:cursor-pointer
            tw:relative
          "
          href="{{ routes.cart_url }}"
          aria-label="{{ 'a11y.open_cart' | t }}"
        >
          <svg class="header__cart-icon tw:inline-block tw:text-current" width="24" height="24" aria-hidden="true">
            <use href="#cart-icon"></use>
          </svg>
          <span
            class="
              cart-count
              tw:absolute tw:-top-1.5 tw:right-1
              tw:flex tw:items-center tw:justify-center
              tw:w-4 tw:h-4 tw:p-2.5
              tw:text-xs tw:font-bold tw:text-white
              tw:bg-gray-800 tw:rounded-full
              tw:pointer-events-none
            "
            id="MiniCartCount"
            >0</span
          >
        </a>
      </div>
    </div>
  </div>
</header>

{%- style -%}
  .header {
      margin-bottom: {{ section.settings.margin-bottom | append: 'px' }};
    }
{%- endstyle -%}

{% schema %}
{
  "name": "Header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo image"
    },
    {
      "type": "text",
      "id": "logo_alt",
      "label": "Logo alt text",
      "default": "Shop logo"
    },
    {
      "type": "link_list",
      "id": "main_menu",
      "label": "Main menu (Navigation)"
    },
    {
      "type": "range",
      "id": "margin-bottom",
      "label": "Section margin bottom (px)",
      "min": 0,
      "max": 80,
      "default": 40,
      "step": 5
    }
  ]
}
{% endschema %}
